setwd("~/Desktop/WUM_projekt1")
library(readr)
library(readr)
library(mlr)
library(ggplot2)
library(DALEX)
library(ggplot2)
library(DALEX)
library(knitr)
heloc_ok<-read_csv("heloc_ok.csv")
heloc_ok<-heloc_ok[-1]
heloc_ok$MaxDelqEver<-factor(heloc_ok$MaxDelqEver)
heloc_ok$MaxDelq2PublicRecLast12M<-factor(heloc_ok$MaxDelq2PublicRecLast12M)
heloc_ok$RiskPerformance<-factor(heloc_ok$RiskPerformance)
heloc_dataset_v1 <- read_csv("heloc_dataset_v1.csv")
heloc_dataset_v1$RiskPerformance<-factor(heloc_dataset_v1$RiskPerformance)
mlr::createDummyFeatures(heloc_ok)
heloc_ok[-1]<-mlr::createDummyFeatures(heloc_ok[-1])
heloc_ok<-read_csv("heloc_ok.csv")
heloc_ok<-heloc_ok[-1]
heloc_ok$MaxDelqEver<-factor(heloc_ok$MaxDelqEver)
heloc_ok$MaxDelq2PublicRecLast12M<-factor(heloc_ok$MaxDelq2PublicRecLast12M)
heloc_ok<-mlr::createDummyFeatures(heloc_ok)
heloc_ok$RiskPerformance<-factor(heloc_ok$RiskPerformance)
heloc_dataset_v1 <- read_csv("heloc_dataset_v1.csv")
heloc_dataset_v1$RiskPerformance<-factor(heloc_dataset_v1$RiskPerformance)
task<- makeClassifTask(id = "task", data = heloc_dataset_v1, target ="RiskPerformance")
learner_rpart<-makeLearner("classif.randomForest",predict.type = "prob")
cv <- makeResampleDesc("CV", iters = 5)
test_rpart <- resample(learner_rpart, task, cv,measures = auc,show.info = FALSE)
print(test_rpart)
roc_r = generateThreshVsPerfData(test_rpart$pred, list(fpr, tpr), aggregate = TRUE)
plotROCCurves(roc_r)
task<-makeClassifTask(id = "task", data = heloc_ok, target ="RiskPerformance")
learner_rf<-makeLearner("classif.randomForest",predict.type = "prob")
test_rf <- resample(learner_rf, task, cv,measures = auc,show.info = FALSE)
print(test_rf)
roc_r = generateThreshVsPerfData(test_rf$pred, list(fpr, tpr), aggregate = TRUE)
plotROCCurves(roc_r)
